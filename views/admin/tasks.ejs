<div class="section">
	<div class="container">
		<h2 class="title is-2">
			Tasks
		</h2>

		<div class="columns">
			<div class="column">
				<button ng-click="goBack()" class="button is-primary is-medium">Go Back</button>
				<button ng-click="newTask()" class="button is-success is-medium">Create New Task</button>
			</div>
		</div>

		<hr>

		<table class="table is-bordered is-narrow">
			<thead>
				<tr>
					<td>ID</td>
					<td>Name</td>
					<td>Actions</td>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="task in tasks">
					<td>{{task.id}}</td>
					<td>{{task.name}}</td>
					<td>
						<a href="/admin/tasktimes?tid={{task.id}}" class="button is-primary">View Times</a>
						<button ng-click="editTask(task)" class="button is-success">Edit Task</button>
						<button ng-click="deleteTask(task)" class="button is-danger">Delete Task</button>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>


<div class="modal" ng-class="{'is-active': openNewTask == true}">
	<div ng-click="openNewTask = false" class="modal-background"></div>
	<div class="modal-container">
		<div class="modal-content">
			<div class="box">
				<div class="content">
					<h1 ng-if="editing == false" class="title is-2">New Task</h1>
					<h1 ng-if="editing == true" class="title is-2">Edit Task</h1>

					<label class="label">Name</label>
					<p class="control">
						<input ng-model="task.name" class="input" type="text" placeholder="Name">
					</p>

					<button ng-if="editing == false" ng-click="createTask()" ng-disabled="!task.name" class="button is-large is-success">Create Task</button>
					<button ng-if="editing == true" ng-click="submitEditTask()" ng-disabled="!task.name" class="button is-large is-success">Edit Task</button>
				</div>
			</div>
		</div>
	</div>
	<button ng-click="openNewTask = false" class="modal-close"></button>
</div>
